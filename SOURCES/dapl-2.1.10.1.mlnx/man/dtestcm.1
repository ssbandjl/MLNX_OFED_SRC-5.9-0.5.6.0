.TH dtestcm 1 "November 15, 2016" "uDAPL 2.1" "USER COMMANDS"

.SH NAME
dtestcm \- simple uDAPL test that measure setup time and connection establish time

.SH SYNOPSIS
.B dtestcm
[\-mwvu] [\-P provider] [\-b burst size] [\-p port id] [\-c connections num] [\-d delay] \fB[ -s | -h HOSTNAME ]\fR

.SH DESCRIPTION
.PP
dtestcm is a simple test that measure setup time and how long it takes to establish one connection on AVG.
At least two instantiations of the test must be run. One acts as the server and the other the client.
The server side of the test, once invoked listens for connection requests, until timing out or killed.
Upon receipt of a connection request, the connection is established.
Upon the established of all the connections we calc AVG time.  

.SH OPTIONS

.PP
.TP
\fB\-P\fR=\fIPROVIDER\fR
use \fIPROVIDER\fR to specify uDAPL interface using /etc/dat.conf (default ofa-v2-ib0)
.TP
\fB\-h\fR=\fIHOSTNAME\fR
use \fIHOSTNAME\fR to specify server hostname or IP address (default - none)
.TP
\fB\-b\fR=\fIBURST_SIZE\fR
send \fIBURST_SIZE\fR connection requests at one time (default 100)
.TP
\fB\-d\fR=\fIDELAY_TIME\fR
delay in \fIDELAY_TIME\fR seconds before close (default 0)
.TP
\fB\-p\fR=\fIPORT_NUM\fR
use \fIPORT_NUM\fR to established connections (default 45248)
.TP
\fB\-c\fR=\fICONN_NUM\fR
establish \fICONN_NUM\fR connections (default 1000)
.TP
\fB\-v\fR, verbose output (default off)
.TP
\fB\-m\fR, multi listens. listen on burst size PSP (default off)
.TP
\fB\-u\fR, run ud test (default no)
.TP
\fB\-w\fR, wait for CR (default poll)
.TP
\fB\-s\fR, run as server (default - run as server)

.SH EXAMPLES

dtestcm -P  ofa-v2-ib0 -v -s
.PP
.nf
.fam C
     Starts a server process with debug verbosity using provider ofa-v2-ib0.

.fam T
.fi
dtestcm -P ofa-v2-ib0 -h server1-ib0 
.PP
.nf
.fam C
     Starts a client process, using ofa-v2-ib0 provider to connect to hostname server1-ib0.

.fam T

.SH SEE ALSO
.BR dtest(1),
.BR dtestsrq(1),
.BR dtestx(1),
.BR dapltest(1)

.SH AUTHORS
.TP
Arlin Davis
.RI < arlin.r.davis@intel.com >
.TP
.TP
Amir Hanania
.RI < amir.hanania@intel.com >
