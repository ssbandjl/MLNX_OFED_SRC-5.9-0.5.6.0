.\" Automatically generated by Pandoc 1.16.0.2
.\"
.TH "IBV_SET_ECE" "3" "2020\-01\-22" "libibverbs" "Libibverbs Programmer\[aq]s Manual"
.hy
.SH NAME
.PP
ibv_set_ece \- set ECE options and use them for QP configuration stage.
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <infiniband/verbs.h>

int\ ibv_set_ece(struct\ ibv_qp\ *qp,\ struct\ ibv_ece\ *ece);
\f[]
.fi
.SH DESCRIPTION
.PP
\f[B]ibv_set_ece()\f[] set ECE options and use them for QP configuration
stage.
.PP
The desired ECE options will be used during various modify QP stages
based on supported options in relevant QP state.
.SH ARGUMENTS
.TP
.B \f[I]qp\f[]
The queue pair (QP) associated with the ECE options.
.RS
.RE
.TP
.B ## \f[I]ece\f[] Argument
The requested ECE values.
This is IN/OUT field, the accepted options will be returned in this
field.
.RS
.RE
.IP
.nf
\f[C]
struct\ ibv_ece\ {
\ \ \ \ uint32_t\ vendor_id;
\ \ \ \ uint32_t\ options;
\ \ \ \ uint32_t\ comp_mask;
};
\f[]
.fi
.TP
.B \f[I]vendor_id\f[]
Unique identifier of the provider vendor on the network.
The providers will set IEEE OUI here to distinguish itself in
non\-homogenius network.
.RS
.RE
.TP
.B \f[I]options\f[]
Provider specific attributes which are supported or needed to be enabled
by ECE users.
.RS
.RE
.TP
.B \f[I]comp_mask\f[]
Bitmask specifying what fields in the structure are valid.
.RS
.RE
.SH RETURN VALUE
.PP
\f[B]ibv_set_ece()\f[] returns 0 when the call was successful, or the
errno value which indicates the failure reason.
.TP
.B \f[I]EOPNOTSUPP\f[]
libibverbs or provider driver doesn\[aq]t support the ibv_set_ece()
verb.
.RS
.RE
.TP
.B \f[I]EINVAL\f[]
In one of the following: o The QP is invalid.
o The ECE options are invalid.
.RS
.RE
.SH SEE ALSO
.PP
\f[B]ibv_query_ece\f[](3),
.SH AUTHOR
.PP
Leon Romanovsky <leonro@mellanox.com>
