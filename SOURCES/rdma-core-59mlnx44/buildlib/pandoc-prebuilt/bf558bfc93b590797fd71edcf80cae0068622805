.\" Automatically generated by Pandoc 1.16.0.2
.\"
.TH "mlx5dv_devx_create_eq" "3" "2022\-01\-12" "mlx5" "mlx5 Programmer\[aq]s Manual"
.hy
.SH NAME
.PP
mlx5dv_devx_create_eq \- Create an EQ object
.PP
mlx5dv_devx_destroy_eq \- Destroy an EQ object
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <infiniband/mlx5dv.h>

struct\ mlx5dv_devx_eq\ *
mlx5dv_devx_create_eq(struct\ ibv_context\ *ibctx,\ const\ void\ *in,\ size_t\ inlen,
\ \ \ \ \ \ \ \ \ \ \ \ \ \ void\ *out,\ size_t\ outlen);

int\ mlx5dv_devx_destroy_eq(struct\ mlx5dv_devx_eq\ *eq);
\f[]
.fi
.SH DESCRIPTION
.PP
Create / Destroy an EQ object.
Upon creation, the caller prepares the in/out mail boxes based on the
device specification format; For the input mailbox, caller needs to
prepare all fields except "eqc.log_page_size" and the pas list, which
will be set by the driver.
The "eqc.intr" field should be used from the output of
mlx5dv_devx_alloc_msi_vector().
.SH ARGUMENTS
.TP
.B \f[I]ibctx\f[]
RDMA device context to create the action on.
.RS
.RE
.TP
.B \f[I]in\f[]
A buffer which contains the command\[aq]s input data provided in a
device specification format.
.RS
.RE
.TP
.B \f[I]inlen\f[]
The size of \f[I]in\f[] buffer in bytes.
.RS
.RE
.TP
.B \f[I]out\f[]
A buffer which contains the command\[aq]s output data according to the
device specification format.
.RS
.RE
.TP
.B \f[I]outlen\f[]
The size of \f[I]out\f[] buffer in bytes.
.RS
.RE
.TP
.B \f[I]eq\f[]
The EQ object to work on.
.RS
.RE
.IP
.nf
\f[C]
struct\ mlx5dv_devx_eq\ {
\ \ \ \ void\ *vaddr;
};
\f[]
.fi
.TP
.B \f[I]vaddr\f[]
EQ VA that was allocated in the driver for.
.RS
.RE
.SH NOTES
.PP
mlx5dv_devx_query_eqn() will not support vectors which are used by
mlx5dv_devx_create_eq().
.SH RETURN VALUE
.PP
Upon success \f[I]mlx5dv_devx_create_eq\f[] will return a new
\f[I]struct mlx5dv_devx_eq\f[]; On error NULL will be returned and errno
will be set.
.PP
Upon success \f[I]mlx5dv_devx_destroy_eq\f[] will return 0, on error
errno will be returned.
.PP
If the error value is EREMOTEIO, outbox.status and outbox.syndrome will
contain the command failure details.
.SH SEE ALSO
.PP
\f[I]mlx5dv_devx_alloc_msi_vector(3)\f[],
\f[I]mlx5dv_devx_query_eqn(3)\f[]
.SH AUTHOR
.PP
Mark Zhang <markzhang@nvidia.com>
